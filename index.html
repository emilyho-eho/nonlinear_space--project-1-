<!DOCTYPE html>
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fragmented Interlude</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="interlude-favicon.png">

    <!-- Open Graph -->
    <meta property="og:title" content="Fragmented Interlude" />
    <meta property="og:description" content="Memory and music." />
    <meta property="og:image" content="interlude-favicon.png" />
    <meta property="og:url" content="https://emilyho-eho.github.io/nonlinear_space--project-1-/" />
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
</head>

<body>

<!-- Opening section -->
<div class="intro-wrapper">

    <div class="spacer"></div>

    <div class="opening">
        <div class="ellipse"></div>
        <h1>FRAGMENTED</h1>
        <h2>interlude</h2>
        <br>
        <h3>memory and music</h3>
    </div>

    <div class="enter">
        <h3>( TAP ANYWHERE TO ENTER )</h3>
        <br>
        <p class="enter-sub">for best experience, turn on your volume</p>
    </div>

</div>

<!-- The1975 content (hidden initially) -->
<div class="content">
    <video class="video" autoplay loop muted playsinline>
        <source src="the1975/1975(visual).mp4" type="video/mp4">
    </video>
    <div class="vignette"></div>
    
    <div class="sticky-ellipse"></div>
    <a href="index.html" class="home"><h1>FRAGMENTED</h1><h2>interlude</h2></a>
    
    <div class="songinfo">
        <img src="the1975/the1975.png" alt="album cover">
        <p style="color: black;">somebody else</p>
        <p style="color: black;">The 1975</p>
    </div>

    <div class="external-links">
    <a href="jpegmafia/jpegmafia(1).html" onclick="saveHistory('I heard you found somebody else')" style="color: black;">
        <span style="background: radial-gradient(ellipse 50% 50%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.6) 50%, transparent 100%); padding: 15px 25px; display: inline-block; text-align: center;">
            <h3>> "I heard,</h3><h3>you found</h3><h3>somebody else"</h3>
        </span>
    </a>
    <a href="gerryrafferty/gerry(1).html" onclick="saveHistory('I hate to think about you')" style="color: black;">
        <span style="background: radial-gradient(ellipse 50% 50%, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.6) 50%, transparent 100%); padding: 15px 25px; display: inline-block; text-align: center;">
            <h3>> "I hate to</h3><h3>think about you"</h3>
        </span>
    </a>
</div>

<div id="history-box">
    <div class="history-header">
        <p class="history-title">path taken</p>
        <button onclick="resetHistory()" class="reset-btn">reset</button>
    </div>
    <div id="history-list"></div>
</div>

<audio id="somebody else" loop preload="auto">
    <source src="the1975/somebodyelse.mp3" type="audio/mpeg">
</audio>

<div class="volume-wrapper">
    <div class="volume-glow"></div>
    <button id="volume-btn" onclick="toggleVolume()">
        <img id="volume-icon" src="whitevolume(on).png" width="30px">
    </button>
</div>

<!-- About button -->
<div class="about-wrapper">
    <div class="about-glow"></div>
    <button id="about-btn" onclick="toggleAbout()">
        <img src="whitehelp.png" width="30px">
    </button>
</div>

<!-- About panel -->
<div id="about-panel">
    <h1>About</h1>
    <br>
    <p>"Fragmented Interlude" explores the relationship between music and memory through a series of songs paired with distorted video imagery and lyric fragments.</p>
    <br>  
    <p>The visuals are sourced from personal videos but are intentionally abstracted, inviting viewers to project their own memories onto them.</p>
</div>

<script>
    function enterSite(e) {
        if (e.target.closest('#volume-btn') || e.target.closest('#about-btn')) return;

        document.querySelector('.opening').style.display = 'none';
        document.querySelector('.enter').style.display = 'none';
        document.querySelector('.spacer').style.display = 'none';
        
        const content = document.querySelector('.content');
        content.style.display = 'block';
        content.style.animation = 'fadein 2s ease';
        
        document.getElementById('somebody else').play();
        loadHistory();

        document.removeEventListener('click', enterSite);
    }

    document.addEventListener('click', enterSite);

    function toggleVolume() {
        const audio = document.getElementById('somebody else');
        const icon = document.getElementById('volume-icon');
        if (audio.muted) {
            audio.muted = false;
            icon.src = 'whitevolume(on).png';
        } else {
            audio.muted = true;
            icon.src = 'whitevolume(off).png';
        }
    }

    function toggleAbout() {
        const panel = document.getElementById('about-panel');
        panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
    }

    function saveHistory(lyric) {
        const history = JSON.parse(localStorage.getItem('lyricHistory') || '[]');
        history.push(lyric);
        localStorage.setItem('lyricHistory', JSON.stringify(history));
    }

    function loadHistory() {
        const history = JSON.parse(localStorage.getItem('lyricHistory') || '[]');
        const list = document.getElementById('history-list');
        list.innerHTML = '';
        history.forEach(item => {
            const p = document.createElement('p');
            p.textContent = '> ' + item;
            list.appendChild(p);
        });
    }
    function resetHistory() {
    localStorage.removeItem('lyricHistory');
    loadHistory();
}
</script>

<style>
@keyframes fadein {
    0% { opacity: 0; }
    100% { opacity: 1; }
}
</style>
</body>
</html>